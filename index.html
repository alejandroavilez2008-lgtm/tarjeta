<!DOCTYPE html>
        <html lang="es">
        <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <title>Para ti üíó</title>
            <style>
                :root{
                    --pink: #d63384;
                    --heart: #ff4d6d;
                    --card: #ffedf4;
                }

                html,body{height:100%;}
                body{
                    margin:0;
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    display:flex;
                    align-items:center;
                    justify-content:center;
                    overflow:hidden;
                    background: linear-gradient(-45deg,#ffeef2,#fff5fb,#ffeef2,#fffaf6);
                    background-size:400% 400%;
                    animation: gradient 12s ease infinite;
                }

                @keyframes gradient{
                    0%{background-position:0% 50%}
                    50%{background-position:100% 50%}
                    100%{background-position:0% 50%}
                }

                /* Contenedor principal */
                .stage{
                    position:relative;
                    width:100%;
                    max-width:760px;
                    height:80vh;
                    display:flex;
                    align-items:center;
                    justify-content:center;
                    pointer-events:none;
                }

                /* Tarjeta / carta */
                .card{
                    width:360px;
                    height:240px;
                    position:relative;
                    perspective:900px;
                    pointer-events:auto;
                }

                .envelope{
                    width:100%;
                    height:100%;
                    position:relative;
                    transform-style:preserve-3d;
                }

                .cover{
                    position:absolute;
                    top:0;
                    left:0;
                    right:0;
                    height:60%;
                    background:linear-gradient(180deg,var(--pink),#ff7aa3);
                    border-radius:10px 10px 0 0;
                    transform-origin:top center;
                    transform:rotateX(0deg);
                    box-shadow:0 8px 18px rgba(0,0,0,0.15);
                    z-index:4;
                }

                .back{
                    position:absolute;
                    inset:0;
                    background:var(--card);
                    border-radius:10px;
                    box-shadow:0 10px 30px rgba(0,0,0,0.12);
                    z-index:1;
                    padding:18px;
                    display:flex;
                    align-items:center;
                    justify-content:center;
                }

                .letter{
                    position:absolute;
                    left:6%;
                    right:6%;
                    top:32%;
                    bottom:8%;
                    background:white;
                    border-radius:6px;
                    box-shadow:0 6px 14px rgba(0,0,0,0.08);
                    padding:18px;
                    transform:translateY(14px);
                    opacity:0;
                    z-index:2;
                    display:flex;
                    align-items:center;
                    justify-content:center;
                    text-align:center;
                }

                .message{
                    color:var(--pink);
                    font-size:1.4rem;
                    line-height:1.3;
                    font-weight:600;
                    /* mantener dentro de la carta, no absoluto */
                    position:relative;
                    opacity:0; /* oculto hasta abrir */
                    transition: opacity .5s ease;
                    text-align:center;
                }

                /* Estado abierto */
                .card.open .cover{
                    animation: openCover 1s cubic-bezier(.2,.9,.3,1) forwards;
                }

                .card.open .letter{
                    animation: showLetter .9s ease .5s forwards;
                }

                /* mostrar mensaje cuando la carta est√© abierta, con retraso para que aparezca al abrirse la carta */
                .card.open .message {
                    opacity: 1;
                    transition-delay: 0.6s;
                }

                @keyframes openCover{
                    0%{transform:rotateX(0deg)}
                    60%{transform:rotateX(-200deg)}
                    100%{transform:rotateX(-180deg) translateY(-6px)}
                }

                @keyframes showLetter{
                    0%{transform:translateY(14px);opacity:0}
                    100%{transform:translateY(0);opacity:1}
                }

                /* Corazones flotantes */
                .heart, .cat{
                    position:absolute;
                    /* no fijamos left ni transform aqu√≠, se gestiona en JS */
                    top:0; /* comenzar justo en el borde superior */
                    user-select:none;
                    pointer-events:none;
                    will-change:transform,opacity;
                    text-shadow:0 2px 4px rgba(0,0,0,0.08);
                }
                .cat{
                    /* sticker-like appearance */
                    color:var(--pink);
                    font-size:3rem; /* base size larger, individual sizing overrides will adjust */
                    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
                    transform-origin:center;
                }

                @keyframes fall{
                    0%{transform:translateX(-50%) translateY(0) rotate(0) scale(1);opacity:1}
                    70%{transform:translateX(-50%) translateY(80vh) rotate(180deg) scale(1.05);opacity:0.9}
                    100%{transform:translateX(-50%) translateY(120vh) rotate(360deg) scale(0.9);opacity:0}
                }

                /* Latido del t√≠tulo peque√±o */
                .title{
                    position:absolute;
                    top:6%;
                    left:50%;
                    transform:translateX(-50%);
                    font-size:1.6rem;
                    color:var(--pink);
                    text-shadow:0 2px 8px rgba(0,0,0,0.06);
                    animation:pulse 2s infinite;
                    z-index:6;
                    pointer-events:none;
                }

                @keyframes pulse{0%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.04)}100%{transform:translateX(-50%) scale(1)}}

                /* Bot√≥n para reabrir (opcional) */
                .reopen{
                    position:absolute;
                    bottom:-60px;
                    left:50%;
                    transform:translateX(-50%);
                    background:transparent;
                    border:none;
                    color:var(--pink);
                    cursor:pointer;
                    font-size:1rem;
                    z-index:6;
                    pointer-events:auto;
                }

                @media (prefers-reduced-motion: reduce){
                    *{animation:none!important;transition:none!important}
                }
            </style>
        </head>
        <body>
            <div class="stage">
                <div class="title">Para ti</div>

                <div class="card" id="card" aria-live="polite">
                    <div class="envelope">
                        <div class="cover" aria-hidden="true"></div>
                        <div class="back" aria-hidden="true"></div>
                        <div class="letter" role="article" aria-label="Mensaje sorpresa">
                            <div class="message">Tus ojos son hermosos y quiero que sean el brillo que ilumine mi coraz√≥n üíó</div>
                        </div>
                    </div>
                </div>

                <button class="reopen" id="reopenBtn" aria-controls="card">Volver a abrir</button>
            </div>

            <script>
                // A√±adir corazones que caen usando el emoji solicitado üíó
                function createHeart(){
                    // limitar n√∫mero de elementos activos para evitar congelamientos
                    const existing = document.body.querySelectorAll('.heart, .cat').length;
                    if(existing > 120) return; // ya hay muchos, saltar creaci√≥n

                    const elem = document.createElement('div');
                    const isCat = Math.random() < 0.12; // ~12% gatos
                    if(isCat){
                        elem.className = 'cat';
                        elem.textContent = 'üòª';
                    } else {
                        elem.className = 'heart';
                        elem.textContent = 'üíó';
                    }

                    // posici√≥n horizontal aleatoria completa
                    elem.style.left = Math.random() * 100 + 'vw';


                    // tama√±o entre 12 y 48px (gatos un poco m√°s grandes)
                    elem.style.fontSize = isCat ? (Math.random() * 20 + 30) + 'px' : (Math.random() * 36 + 12) + 'px';

                    // duraci√≥n entre 3 y 7s (gatos bajan un poco m√°s lentos)
                    const duration = Math.random() * 4 + 3 + (isCat ? 1 : 0);
                    elem.style.animation = `fall ${duration}s linear`;

                    // opacidad inicial
                    elem.style.opacity = (Math.random() * 0.4 + 0.6).toString();

                    // peque√±o delay
                    elem.style.animationDelay = (Math.random() * 1) + 's';
                    document.body.appendChild(elem);

                    setTimeout(()=> elem.remove(), (duration + 1.2) * 1000);
                }

                // Respeta prefer-reduced-motion
                const canAnimate = !window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                let heartsInterval = null;
                if(canAnimate){
                    // lluvia m√°s continua
                    heartsInterval = setInterval(createHeart, 150);
                }

                // Abrir la tarjeta al cargar
                const card = document.getElementById('card');
                const reopenBtn = document.getElementById('reopenBtn');

                function openCard(){
                    card.classList.remove('open');
                    // Forzar reflow para permitir reanimar si se vuelve a abrir
                    void card.offsetWidth;
                    card.classList.add('open');
                }

                // Abrir manualmente al hacer click (no hay apertura autom√°tica)
                // si prefieren menos movimiento, dejamos la carta cerrada hasta que el usuario interact√∫e

                reopenBtn.addEventListener('click', ()=>{
                    openCard();
                });

                // limpiar intervalo si la pesta√±a se oculta para ahorrar recursos
                document.addEventListener('visibilitychange', ()=>{
                    if(document.hidden){
                        if(heartsInterval) clearInterval(heartsInterval);
                    } else {
                        if(canAnimate && !heartsInterval) heartsInterval = setInterval(createHeart,300);
                    }
                });
            </script>
        </body>
        </html>